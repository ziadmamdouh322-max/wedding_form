<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج حجز تصوير زفاف</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
          --primary-color: #1f3a5f;
          --secondary-color: #333333;
          --light-bg: #f4f7f6;
          --card-bg: #ffffff;
          --accent-color: #e74c3c; 
          --text-on-accent: #ffffff;
          --border-radius: 12px;
          --shadow-elevation: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        body {
          font-family: "Cairo", sans-serif; 
          background-color: var(--light-bg);
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
          direction: rtl; 
        }
        
        #loader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--card-bg); 
            display: flex; justify-content: center; align-items: center;
            z-index: 1000; transition: opacity 0.5s ease-in-out, visibility 0.5s;
        }

        #loader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

        #loader-logo {
            max-width: 300px; height: auto;
            animation: pulse 1.5s infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            100% { transform: scale(1.0); opacity: 1; }
        }

        .container {
          background-color: var(--card-bg);
          max-width: 800px; width: 95%;
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-elevation);
          padding: 40px;
          opacity: 0; transform: translateY(20px);
          transition: opacity 0.8s ease-out, transform 0.8s ease-out;
          margin: 20px 0;
        }
        
        .container.visible { opacity: 1; transform: translateY(0); }

        header { text-align: center; margin-bottom: 20px; }
        
        #studio-logo-main { max-width: 250px; height: auto; display: block; margin: 0 auto 15px; }

        h2 {
          color: var(--primary-color); font-size: 20px; font-weight: 900;
          border-bottom: 3px solid var(--accent-color);
          display: inline-block; padding-bottom: 5px;
        }

        h3 {
          text-align: start; color: var(--primary-color); font-size: 24px;
          margin: 30px 0 20px 0; padding-bottom: 8px; border-bottom: 2px solid #ddd;
        }
        
        .date-check {
          background-color: #ffffff; padding: 20px; border-radius: var(--border-radius);
          text-align: center; margin-bottom: 30px; border: 1px solid #e0e0e0;
        }

        .date-field {
          padding: 14px 12px; border: 1px solid #ccc; border-radius: 8px;
          font-size: 16px; width: 80%; font-weight: 700; text-align: center;
        }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .input-group { display: flex; flex-direction: column; gap: 5px; }
        .input-group label { font-weight: 600; color: var(--secondary-color); font-size: 15px; }
        .input-group input, .input-group select {
          padding: 12px; border: 1px solid #ddd; border-radius: 8px;
          font-size: 16px; background-color: #fcfcfc;
        }

        .summary-box { display: none; }
        
        .total-summary-for-customer {
            background-color: var(--card-bg); border: 2px solid var(--primary-color);
            padding: 20px 30px; border-radius: var(--border-radius);
            margin: 40px 0 20px; text-align: center;
        }
        
        .customer-summary-item {
            display: flex; justify-content: space-between; padding: 10px 0;
            font-size: 18px; font-weight: 700; color: var(--secondary-color);
        }

        .customer-summary-item:last-child {
            border-top: 2px solid var(--primary-color); margin-top: 15px;
            padding-top: 15px; font-size: 26px; color: var(--accent-color);
        }

        .notes-section {
          border: 1px solid #ddd; padding: 25px; border-radius: var(--border-radius);
          margin: 40px 0; background-color: #fff;
        }

        .notes-section h4 { color: var(--primary-color); margin: 0; font-weight: 900; }
        .notes-section ul { list-style: none; padding: 0; margin-top: 15px; line-height: 1.7; }
        .notes-section ul li { position: relative; padding-inline-start: 25px; margin-bottom: 10px; }
        .notes-section ul li::before {
            content: "\f058"; font-family: "Font Awesome 6 Free"; font-weight: 900;
            color: var(--primary-color); position: absolute; inset-inline-start: 0;
        }

        .submit-btn {
          display: block; width: 100%; padding: 18px;
          background-color: var(--primary-color); color: white;
          border: none; border-bottom: 4px solid #0f2136;
          border-radius: 10px; font-size: 22px; font-weight: 700;
          cursor: pointer; transition: all 0.2s; margin-top: 30px;
        }

        .submit-btn:disabled {
          background-color: #95a5a6; border-bottom: 4px solid #7f8c8d;
          cursor: not-allowed; opacity: 0.6;
        }

        .submit-btn:hover:not(:disabled) {
          background-color: #0f2136; transform: translateY(2px);
        }

        .footer-credit { text-align: center; margin-top: 30px; color: #888; font-size: 14px; }

        @media (max-width: 768px) {
          .form-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="loader">
        <img src="logo.png" alt="Logo" id="loader-logo">
    </div>

    <div class="container" id="main-container">
        <header>
            <img src="logo.png" alt="Studio Logo" id="studio-logo-main">
            <h2>نموذج حجز تصوير زفاف</h2>
        </header>

        <form id="booking-form"> 
            <div class="date-check">
                <div style="font-weight: 700; margin-bottom:10px;">اختر يوم التصوير والمناسبة *</div>
                <input type="date" id="event-date" class="date-field" required>
            </div>

            <h3>بيانات الحجز الأساسية</h3>
            <div class="form-grid">
                <div class="input-group">
                    <label>اسم العريس: *</label>
                    <input type="text" id="groom-name" placeholder="الاسم الكامل" required>
                </div>
                <div class="input-group">
                    <label>اسم العروسة: *</label>
                    <input type="text" id="bride-name" placeholder="الاسم الكامل" required>
                </div>
                <div class="input-group">
                    <label>رقم الهاتف الرئيسي: *</label>
                    <input type="tel" id="main-phone" placeholder="01xxxxxxxxx" required>
                </div>
                <div class="input-group">
                    <label>رقم إضافي:</label>
                    <input type="tel" id="extra-phone" placeholder="اختياري">
                </div>
                <div class="input-group">
                    <label>المحافظة/المدينة: *</label>
                    <select id="city" required onchange="updateBookingSummary()">
                        <option value="">-- اختر --</option>
                        <option value="qena">قنا</option>
                        <option value="luxor">الأقصر</option>
                        <option value="nagaa_hammadi">نجع حمادي</option>
                        <option value="hurghada">الغردقة</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>الباقة المختارة: *</label>
                    <select id="package" required onchange="updateBookingSummary()">
                        <option value="">-- اختر الباقة --</option>
                        <option value="standard">الباقة 1</option>
                        <option value="premium">الباقة 2</option>
                        <option value="luxury">الباقة 3</option>
                        <option value="vip">الباقة VIP</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>مكان القاعة:</label>
                    <input type="text" id="hall-name" placeholder="اسم القاعة">
                </div>
                <div class="input-group">
                    <label>مكان السيشن:</label>
                    <input type="text" id="location" placeholder="مكان السيشن">
                </div>
                <div class="input-group">
                    <label>الميكب أرتيست:</label>
                    <input type="text" id="makeup-artist" placeholder="الاسم">
                </div>
                <div class="input-group">
                    <label>مصمم الشعر:</label>
                    <input type="text" id="hair-designer" placeholder="الاسم">
                </div>
                <div class="input-group">
                    <label>العربون المدفوع:</label>
                    <input type="number" id="down-payment" value="0" min="0" oninput="updateBookingSummary()">
                </div>
                <div class="input-group">
                    <label>ملاحظات إضافية:</label>
                    <input type="text" id="extra-notes" placeholder="مكان الكنيسة / كتب الكتاب">
                </div>
            </div>

            <div class="total-summary-for-customer">
                <h4>ملخص المبالغ</h4>
                <div class="customer-summary-item"><span>المبلغ الإجمالي</span><span id="total-price-customer">0 ج.م</span></div>
                <div class="customer-summary-item"><span>العربون</span><span id="down-payment-customer">0 ج.م</span></div>
                <div class="customer-summary-item"><span>المتبقي</span><span id="remaining-amount-customer">0 ج.م</span></div>
            </div>

            <div class="summary-box">
                <span id="total-price-hidden">0</span>
                <span id="remaining-amount-hidden">0</span>
            </div>

            <div class="notes-section">
                <h4>ملاحظات وشروط هامة:</h4>
                <ul>
                    <li>مدة التصوير الأساسية (12 ساعة)، الساعة الإضافية بـ 500ج.</li>
                    <li>العربون غير مسترد في حال إلغاء الحجز.</li>
                    <li>يتم تصفية الحساب المتبقي بعد الفرح مباشرة.</li>
                    <li>رسوم دخول أماكن التصوير يتحملها العميل.</li>
                </ul>
            </div>

            <div style="display: flex; align-items: center; gap: 10px; margin-top: 20px;">
                <input type="checkbox" id="agree-terms" onchange="toggleSubmitButton()">
                <label for="agree-terms" style="font-weight: 700; color: var(--accent-color); cursor: pointer;">
                    أوافق على جميع الشروط والملاحظات المذكورة أعلاه *
                </label>
            </div>

            <button type="button" id="final-submit-btn" class="submit-btn" onclick="sendBookingToWhatsApp()" disabled>
                <i class="fas fa-paper-plane"></i> تأكيد وإرسال عبر واتساب
            </button>
        </form>
        
        <div class="footer-credit">Designed & Developed by: Eng / Ziad Mamdouh</div>
    </div>

    <script>
        const PRICING_DATA = {
            "qena": { standard: 6500, premium: 8000, luxury: 10000, vip: 12000 },
            "luxor": { standard: 7000, premium: 8500, luxury: 11000, vip: 13000 },
            "nagaa_hammadi": { standard: 7000, premium: 8500, luxury: 11000, vip: 13000 },
            "hurghada": { standard: 7500, premium: 9000, luxury: 12000, vip: 14000 }
        };

        function updateBookingSummary() {
            const city = document.getElementById('city').value;
            const pack = document.getElementById('package').value;
            const downPayment = parseFloat(document.getElementById('down-payment').value) || 0;

            let total = 0;
            if (city && pack) {
                total = PRICING_DATA[city][pack];
            }

            const remaining = total - downPayment;

            document.getElementById('total-price-customer').textContent = total.toLocaleString('ar-EG') + " ج.م";
            document.getElementById('down-payment-customer').textContent = downPayment.toLocaleString('ar-EG') + " ج.م";
            document.getElementById('remaining-amount-customer').textContent = remaining.toLocaleString('ar-EG') + " ج.م";
            
            document.getElementById('total-price-hidden').textContent = total;
            document.getElementById('remaining-amount-hidden').textContent = remaining;
            
            toggleSubmitButton();
        }

        function toggleSubmitButton() {
            const isAgreed = document.getElementById('agree-terms').checked;
            const btn = document.getElementById('final-submit-btn');
            btn.disabled = !isAgreed;
        }

        function sendBookingToWhatsApp() {
            const form = document.getElementById('booking-form');
            
            // التحقق من صحة جميع الحقول المطلوبة (HTML5 Validation)
            if (!form.reportValidity()) {
                return; 
            }

            const date = document.getElementById('event-date').value;
            const groom = document.getElementById('groom-name').value;
            const bride = document.getElementById('bride-name').value;
            const phone = document.getElementById('main-phone').value;
            const cityText = document.getElementById('city').options[document.getElementById('city').selectedIndex].text;
            const packageText = document.getElementById('package').options[document.getElementById('package').selectedIndex].text;
            const total = document.getElementById('total-price-hidden').textContent;
            const remaining = document.getElementById('remaining-amount-hidden').textContent;
            const downPayment = document.getElementById('down-payment').value;

            const YOUR_NUMBER = "201061814314"; 

            let message = `*طلب حجز تصوير جديد*\n`;
            message += `━━━━━━━━━━━━━━━\n`;
            message += ` *التاريخ:* ${date}\n`;
            message += ` *العريس:* ${groom}\n`;
            message += ` *العروسة:* ${bride}\n`;
            message += ` *الهاتف:* ${phone}\n`;
            message += ` *المدينة:*${cityText}\n`;
            message += ` *الباقة:* ${packageText}\n`;
            message += ` *القاعة:* ${document.getElementById('hall-name').value || 'لم يحدد'}\n`;
            message += `━━━━━━━━━━━━━━━\n`;
            message += ` *الإجمالي:* ${total} ج.م\n`;
            message += ` *العربون:* ${downPayment} ج.م\n`;
            message += ` *المتبقي:* ${remaining} ج.م\n`;
            message += `━━━━━━━━━━━━━━━\n`

            const url = `https://wa.me/${YOUR_NUMBER}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
                document.getElementById('main-container').classList.add('visible');
            }, 1000);
        });
    </script>
</body>
</html>
